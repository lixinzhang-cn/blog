# 02.flask+layui实现学员信息案例
::: tip 视频教程
[视频教程地址](https://www.bilibili.com/video/BV1jX4y1t7EH/?spm_id_from=333.999.0.0&vd_source=fb106110387e029400905bf099f9ac8c)
:::
接下来演示用 flask + layui 搭建一个学员信息管理的案例

这个案例将会利用 flask 做后端，layui table 组件做前端，基于 restful api 完成一个学员信息管理的完整案例。
案例内容涉及的知识点会比较多，但是对于基础，我在案例中也不会过多赘述，当看不懂时可以查阅一下官方文档或者补一下对应的基础知识。

## 项目搭建

1. 新建 flask 项目
2. 下载 layui 文件，解压之后复制到指定文件
3. 配置 flask-sqlalchemy 插件
4. 完成数据库建模，数据表创建

### 创建项目

创建项目的方式有很多种，只要有任意一种方式创建即刻。在这里我直接选择使用 pycharm 进行创建。

创建成功后目录如下

```
X:\flask-student>tree /f
X:.
│  app.py
│
├─static
└─templates
```

访问 https://layui.dev/ ，点击直接下载之后就能得到 layui 的静态文件，将其复制到 static 目录下，完成之后的目录结构如下

```txt
X:\flask-student>tree /f
X:.
│  app.py
│
├─static
│  │  layui.js
│  │
│  ├─css
│  │      layui.css
│  │
│  └─font
│          iconfont.eot
│          iconfont.svg
│          iconfont.ttf
│          iconfont.woff
│          iconfont.woff2
│
└─templates
```

### 配置插件

1、安装插件

```shell
pip install flask-sqlalchemy
```

2、添加配置文件

:::code-group

```python [config.py]
# 数据库链接配置
SQLALCHEMY_DATABASE_URI = 'sqlite:///flask-student.sqlite'
SQLALCHEMY_TRACK_MODIFICATIONS = False
```

:::

3、创建实例对象

:::code-group

```python [extensions.py]
from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()


def register_extension(app):
    db.init_app(app)
```

:::

4、绑定到 flask app 

```python
import config
from extensions import register_extension, db


app.config.from_object(config)
register_extension(app)
```
### 数据库建模

1、创建数据模型

:::code-group

```python [orms.py]
from extensions import db
from datetime import datetime


class StudentORM(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(255), nullable=False)
    gender = db.Column(db.Enum('M', 'F'))
    mobile = db.Column(db.String(11), nullable=False, unique=True)
    class_name = db.Column(db.String(10), nullable=True)
    address = db.Column(db.String(255))
    disable = db.Column(db.Boolean, default=False)
    is_del = db.Column(db.Boolean, default=False)

    create_at = db.Column(db.DateTime, default=datetime.now)  # 记录的创建时间
    update_at = db.Column(db.DateTime, default=datetime.now, onupdate=datetime.now)  # 记录的更新时间

    def save(self):
        db.session.add(self)
        db.session.commit()
```

:::

2、生成数据表

```python
from orms import StudentORM

@app.cli.command()
def create():
    db.drop_all()
    db.create_all()
    from faker import Faker
    import random

    faker = Faker(locale="zh-CN")

    for i in range(100):
        student = orms.StudentORM()
        info = faker.simple_profile()
        student.name = info['name']
        student.gender = info['sex']
        student.mobile = faker.phone_number()
        student.address = info['address']
        student.class_name = random.choice(['一班', '二班', '三班'])
        student.save()
```

## 学员信息渲染

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="761px" viewBox="-0.5 -0.5 761 382" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2023-06-19T05:54:04.487Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/19.0.3 Chrome/102.0.5005.63 Electron/19.0.3 Safari/537.36&quot; etag=&quot;lrRthpuqdySQSxwOoQDW&quot; version=&quot;19.0.3&quot; type=&quot;device&quot; pages=&quot;5&quot;&gt;&lt;diagram id=&quot;t21PZ8GqwSizM6QyjL6_&quot; name=&quot;学员信息渲染&quot;&gt;7VpLd5s4FP41WqYHEAKxBJu0i2amZzJzZtmDQbZpMfKAHMf59SNhgY2QYyfF8aveGC7iIr77+q4EgIPZ8+cimk8faEIyYBnJM4BDYFkmNDD/E5KVlBi1ZFKkiZRtBI/pC6kHSukiTUjZGsgozVg6bwtjmuckZi1ZVBR02R42pln7qfNoQjqCxzjKutJ/04RN11JsuRv5F5JOpvWTTcdbX5lF9WD5JuU0SuhySwRDAAcFpWx9NHsekEygV+Oyvu9+x9VmYgXJ2SE3OCn+52HxV4ZI/PIH+v43+fKD3kktT1G2kC8MQhd4NvAxCB2AMQjkm5ZsVWPC32QuDhezzI8ZLQAMnkjBUo7a12hEsm+0TFlKcz5kRBmjs60BfpZOxAVG51w6ZbOMn5j8kC5YluZk0NjR4MLuO9YT5urI85ZIvvNnQmeEFSs+RF51JPy1A9bmWG6sCaVoumXI+rZI+s+kUbyBmB9IlN+AuKVB3AEBAvgehBj4rgA9RMDzhA1U6Au6yBOSSMyW05SRx3kUi6tLHoFtSHtAz7L3w9fIPgQ/qMGPo2UAHArX9QPg3wtEvQHAQ3EJ+8A3zwdRZJwbonYXURUkkie+SKb8LKc5aYOyQfDVkCVJK9N2AdoCAGnev5YVJItY+tTOzzpQ5BO+0ZTPpMEft+G3sQJrSRdFTORN2+n0dT2WoehhUTEhrKOnslDz0u83Gropo0GjJ6tZnvfJQV7zw+ikVnRuyorI6cmKCLWt6J3UiO6bjBhnUVmm8SXb0VSisSEJb7ajvUfRkS2HNZZzopko+vmoFH8VJQtBwCmFBzxXHIe2OBWUgvNjs2IbnjjlFE6MGQK/q6XjD9yQFVVuu0EkyXHMDU8KDWuepUkidAQFKdOXaFTpEy4zFxBVoKEAoKHWiV51XpW/NB2VfAjYblp0vObO+GS4yGrZs24vftHf7kwLavXWKuh4XJKjeIjpdVzkYfX4X9axaN0TxSvexSSkgPvJ5Ggd9F9HjSCKf06qVPDnuhmS8nLdFZuoHwbqqi2R0WWgjiZ7qNm6v5bIuKky6Ho9lUEXn1MZhJq1hOuug53y9V5DQmuPoh2m41hGq61hsgrsnLC9Y8IbT1hr7NcvNCsemirLa6pnV216ALzwomsq3JWSz6uo4nYV+KiSamtWcFRbxoviqVmTua6kAY02l4Hqus7BSUNRZJvHSRoQ6ie8c15QP6+jJhlbs4glllV5XqkOPJ5dYHWAQGBU1H0oyLzqeDxeWdu7SlbQn2RAM7HOXXOPcZpliqjOMxkZs9eyjI4Utj14THNWKwcWHI8N/uuH+kFbsaXbpX6uxvfhsaif3eXXV04a1FrfnP9q89xRdOwVSB1r13TP92ILScSiCXAVizgEPqpW5nkbrQ3Ki6n0jfuec6U/UZ1HB9T56wrtTkS+u7SrOUJVdOzQ1m0J7afsVxXajfuec2jfnSq237b9dAWxbamLNirbPjS29+k5dmjrtpzU0OZhy6N7vZ9ug8CvIhpXgdxpy8VyOBab7BcU2rX3/g5tDTg3t52FcE+M3N2n6Nixfch+VtULiyJdUXN/19czF1u2L2FD61ShfXPNdici38vIOznigxm5c1izrTJyJOKaxzs/EB8WBpcd2pfQbPdftvnp5iPh9fDNt9Yw/B8=&lt;/diagram&gt;&lt;diagram name=&quot;新增学员信息&quot; id=&quot;I_P6UT70xMzTkr6ju2O8&quot;&gt;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&lt;/diagram&gt;&lt;diagram name=&quot;修改学员信息（iframe）&quot; id=&quot;47Mfh0O2w-kDroanQuQW&quot;&gt;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&lt;/diagram&gt;&lt;diagram name=&quot;修改学员信息（单页版）&quot; id=&quot;9PI9HZLUH9gP36BLup0q&quot;&gt;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&lt;/diagram&gt;&lt;diagram id=&quot;JfKkXo5okVbbbnpSJnKK&quot; name=&quot;第 2 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://viewer.diagrams.net/?client=1&amp;page=0&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:382px;"><defs/><g><ellipse cx="15" cy="27.5" rx="7.5" ry="7.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 15 35 L 15 60 M 15 40 L 0 40 M 15 40 L 30 40 M 15 60 L 0 80 M 15 60 L 30 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 87px; margin-left: 15px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
用户</div></div></div></foreignObject><text x="15" y="99" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
用户</text></switch></g><rect x="180" y="20" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 50px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
浏览器</div></div></div></foreignObject><text x="240" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
浏览器</text></switch></g><rect x="440" y="20" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 50px; margin-left: 441px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
后端服务器</div></div></div></foreignObject><text x="500" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
后端服务器</text></switch></g><path d="M 20 380 L 20 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 240 380 L 239.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 500 380 L 499.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 40 140 L 473.63 140" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 140 L 471.88 143.5 L 473.63 140 L 471.88 136.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 140px; margin-left: 121px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
访问信息页面</div></div></div></foreignObject><text x="121" y="144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
访问信息页面</text></switch></g><path d="M 700 15 C 700 6.72 713.43 0 730 0 C 737.96 0 745.59 1.58 751.21 4.39 C 756.84 7.21 760 11.02 760 15 L 760 65 C 760 73.28 746.57 80 730 80 C 713.43 80 700 73.28 700 65 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 760 15 C 760 23.28 746.57 30 730 30 C 713.43 30 700 23.28 700 15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 53px; margin-left: 701px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
MySql</div></div></div></foreignObject><text x="730" y="57" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
MySql</text></switch></g><path d="M 730 380 L 729.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 480 180 L 380 180 L 266.37 180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 261.12 180 L 268.12 176.5 L 266.37 180 L 268.12 183.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 180px; margin-left: 361px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回页面</div></div></div></foreignObject><text x="361" y="184" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回页面</text></switch></g><path d="M 243 260 Q 273 260 273 285 Q 273 310 249.37 310" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 310 L 251.12 306.5 L 249.37 310 L 251.12 313.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="283" y="270" width="70" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 68px; height: 1px; padding-top: 285px; margin-left: 285px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
渲染数据</div></div></div></foreignObject><text x="285" y="289" fill="#ff0000" font-family="Helvetica" font-size="12px">
渲染数据</text></switch></g><path d="M 260 220 L 473.63 220" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 220 L 471.88 223.5 L 473.63 220 L 471.88 216.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 222px; margin-left: 370px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
请求接口数据</div></div></div></foreignObject><text x="370" y="226" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
请求接口数据</text></switch></g><path d="M 480 260 L 266.37 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 261.12 260 L 268.12 256.5 L 266.37 260 L 268.12 263.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 260px; margin-left: 371px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回接口数据</div></div></div></foreignObject><text x="371" y="264" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回接口数据</text></switch></g><path d="M 230 310 L 36.37 310" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 31.12 310 L 38.12 306.5 L 36.37 310 L 38.12 313.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 310px; margin-left: 130px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
显示到页面上</div></div></div></foreignObject><text x="130" y="314" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
显示到页面上</text></switch></g><path d="M 520 220 L 713.63 220" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 718.88 220 L 711.88 223.5 L 713.63 220 L 711.88 216.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 222px; margin-left: 621px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
查询后端数据</div></div></div></foreignObject><text x="621" y="226" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
查询后端数据</text></switch></g><path d="M 720 260 L 526.37 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 521.12 260 L 528.12 256.5 L 526.37 260 L 528.12 263.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 260px; margin-left: 620px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回原始数据</div></div></div></foreignObject><text x="620" y="264" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回原始数据</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">
Text is not SVG - cannot display</text></a></switch></svg>

需要完成的工作如下：

1. 返回学员信息页面，在前端请求后端接口数据
2. 返回学员信息接口，并且支持分页、查询（后续待用）

### 后端部分

1、编写后端接口返回前端数据，返回数据

```python
@app.route('/api/student')
def student_view():
    page = request.args.get('page', type=int, default=1)
    per_page = request.args.get('per_page', type=int, default=10)
    paginate = StudentORM.query.paginate(page=page, per_page=per_page, error_out=False)
    items: [StudentORM] = paginate.items
    return {
        'code': 0,
        'msg': '信息查询成功',
        'count': paginate.total,
        'data': [
            {
                'id': item.id,
                'name': item.name,
                'gender': item.gender,
                'mobile': item.mobile,
                'class_name': item.class_name,
                'address': item.address,
                'disable': item.disable,
                'is_del': item.is_del,
                'create_at': item.create_at.strftime('%Y-%m-%d %H:%M:%S'),
                'update_at': item.update_at.strftime('%Y-%m-%d %H:%M:%S'),
            } for item in items
        ]
    }
```

2、后端返回静态页面

```python
@app.route('/')
def hello_world():
    return render_template('index.html')
```

### 前端部分

1. 表格获取，数据渲染

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>学生信息管理系统</title>
    <link rel="stylesheet" href="/static/css/layui.css">
</head>
<body>
<div class="layui-container">
    <table class="layui-hide" id="student"></table>
</div>
<script src="/static/layui.js"></script>
<script>
    layui.use(function () {
        var table = layui.table;

        // 已知数据渲染
        var inst = table.render({
            elem: '#student',
            id: 'student',
            url: '/api/student',
            cols: [
                [   // 标题栏
                    {field: 'id', title: 'ID', width: 60, sort: true},
                    {field: 'name', title: '姓名', width: 100},
                    {field: 'gender', title: '性别', width: 60},
                    {field: 'class_name', title: '班级', width: 80},
                    {field: 'mobile', title: '手机', width: 120},
                    {field: 'address', title: '地址', minWidth: 160},
                    {field: 'create_at', title: '创建时间', width: 200},
                    {field: 'disable', title: '禁用', width: 100},
                    {field: 'is_del', title: '删除', width: 80},
                ]],
            page: true,
        });
    });
</script>
</body>
</html>
```

2、性别渲染

先定义渲染方法

```javascript
function render_gender(d) {
    if (d.gender === 'M') {
        return '<span style="color: blue">♂</span>';
    } else {
        return '<span style="color: pink">♀</span>';
    }
}
```

再进行渲染

```
{field: 'gender', title: '性别', width: 60, templet: render_gender},
```

后面还有好几个字段需要进行渲染与修改，例如班级字段需要实现点击下拉选择，地址信息直接编辑修改，创建时间点击之后选择新的日期进行修改，禁用、删除用开关进行点击切换。关于这部分的内容，将放到最后进行修改。

## 新增学员信息

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="761px" viewBox="-0.5 -0.5 761 502" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2023-06-17T15:07:57.315Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/19.0.3 Chrome/102.0.5005.63 Electron/19.0.3 Safari/537.36&quot; etag=&quot;tEkrnK2oLrOzhLSNTIxt&quot; version=&quot;19.0.3&quot; type=&quot;device&quot; pages=&quot;3&quot;&gt;&lt;diagram id=&quot;t21PZ8GqwSizM6QyjL6_&quot; name=&quot;学员信息渲染&quot;&gt;5VpBd6M2EP41OmYfIATiCDbpHjbtvqZ9PfZhkG26GLkgx3F+fSUQ2Ag5drI4To0PiRikAX0zo/lGAsDJ6vmXIlovH2hCMmAZyTOAU2BZngP5XyHY1QIM7VqwKNKkFpl7wWP6QqTQkNJNmpCy05FRmrF03RXGNM9JzDqyqCjottttTrPuU9fRgvQEj3GU9aV/pQlbyllY7l7+laSLZfNk0/HqO6uo6SxnUi6jhG4PRDAEcFJQyurW6nlCMoFdg0s97v7I3fbFCpKzcwY4Kf7zYfN7hkj88iv6+w/y9R96J7U8RdlGThiELvBs4GMQOgBjEMiZlmzXYMJnshbNzSrzY0YLAIMnUrCUo/YtmpHsOy1TltKcd5lRxujqoIOfpQtxg9E1ly7ZKuMXJm/SDcvSnExaOxpcKN+OjyXPR6dttmByJyR0RVix413kAEfCL/3PbMyx3VsTStHywJDNsEj6z6JVvIeYNyTKb0Dc0iDugAABfA9CDHxXgB4i4HnCBir0Bd3kCUkkZttlysjjOorF3S2Pvy6kA6Bn2afha2Ufgh/U4MfRMgAOhev6AfDvBaLeBOCpuIV94JufB1FkfDZE7T6iKkgkT3yxmPKrnOakC8oewX3IkqS3rJ4E6AAApJl/IytIFrH0qateB4p8wnea8ge3+OMu/DZWYC3ppoiJHHS4nL6uxzIUPSwqFoT19FQWaif9fqOhURkNGgNZzfK8Lw7y2h9GV7WiMyorImcgKyLUtaJ3VSO6bzJinEVlmcb/ZzuaSjS2JOHNdrRPKLqw5bDGck60Ekk/n5XiX0XJQhBwSuEBzxXt0BaXglJwfmxWbMMTl5zCiT5T4Pe19PyB27aiyl03iCQ5jrmdSaFhzas0SYSOoCBl+hLNKn3CZdYCogo0FAA0fY2qyEpJDgZtfXLoXsf9/CivuTO+GC6yOvZsyouf9Lc704JavY0KOp+X5CIeYno9F3nYPf6b9Sza1ETxjlcxCSngaTI5q4P+26wVRPGPRbUU/FYXQ1Je1lWxiYZhoK5aEhl9BupoVg91tR6uJDJGlQZdb6A06OLPlAahZi/htvNgL32915DQOqHo0qbTbEpoEiFPe55dVdIB8MJq2wJWG0W8yOa5cDKWRAhfX18vmQlxd+X+qDRoa3ZdVFPGm+Kp3Ue5rUCHRpd/QHUv5uxAVxTZ5nmBzrGMdgfdpJcff2Gof+Gj7wX177V3o/oNhnUqzcaTWFP4QlM1PL7cwKqBQGBUdHsqCLjqeDyuWde7SlbQH2RCM7E33fCFeZpliqhZZjIyZ68tMjoi1/XgOc1ZoxxYcD43+G8YugZtxZZun665Gt+Hl6Jrdp8T33iiV/Nze/2zBW9P0aV3DXVMW1Px3otjHxGLJsBVLOIQ+KhK9Lz01QblLSb62tOvkeivlOfRGXn+tkK7F5HvTu3qGqEqunRo645xzuHw4wzt2tPHxOHR246MbiC2LXWjRWXb58b2KT2XDm3dMZEa2jxseXTXZ+A2CPwqonEVyL2qXGxhY3EwfpuhjUYX2qM7gkJ4IEbunlJ06dg+5wyqqoVFkq6ouX/si5cxpO2rHUJdK7RHV2z3IvK9jLy3RnwwI3fOK7ZVRo5EXPN45w3xMWAwmtC+WrE9fNrml/sPe+vu+6+jYfgf&lt;/diagram&gt;&lt;diagram name=&quot;新增学员信息&quot; id=&quot;I_P6UT70xMzTkr6ju2O8&quot;&gt;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&lt;/diagram&gt;&lt;diagram id=&quot;JfKkXo5okVbbbnpSJnKK&quot; name=&quot;第 2 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://viewer.diagrams.net/?client=1&amp;page=1&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:502px;"><defs/><g><ellipse cx="15" cy="27.5" rx="7.5" ry="7.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 15 35 L 15 60 M 15 40 L 0 40 M 15 40 L 30 40 M 15 60 L 0 80 M 15 60 L 30 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 87px; margin-left: 15px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
用户</div></div></div></foreignObject><text x="15" y="99" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
用户</text></switch></g><rect x="180" y="20" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 50px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
浏览器</div></div></div></foreignObject><text x="240" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
浏览器</text></switch></g><rect x="440" y="20" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 50px; margin-left: 441px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
后端服务器</div></div></div></foreignObject><text x="500" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
后端服务器</text></switch></g><path d="M 20 500 L 20 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 240 500 L 239.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 500 500 L 499.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 40 140 L 473.63 140" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 140 L 471.88 143.5 L 473.63 140 L 471.88 136.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 140px; margin-left: 121px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
请求新增页面</div></div></div></foreignObject><text x="121" y="144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
请求新增页面</text></switch></g><path d="M 700 15 C 700 6.72 713.43 0 730 0 C 737.96 0 745.59 1.58 751.21 4.39 C 756.84 7.21 760 11.02 760 15 L 760 65 C 760 73.28 746.57 80 730 80 C 713.43 80 700 73.28 700 65 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 760 15 C 760 23.28 746.57 30 730 30 C 713.43 30 700 23.28 700 15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 53px; margin-left: 701px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
MySql</div></div></div></foreignObject><text x="730" y="56" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
MySql</text></switch></g><path d="M 730 500 L 729.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 480 180 L 266.37 180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 261.12 180 L 268.12 176.5 L 266.37 180 L 268.12 183.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 180px; margin-left: 370px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回新增页面</div></div></div></foreignObject><text x="370" y="184" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回新增页面</text></switch></g><path d="M 270 330 L 473.63 330" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 330 L 471.88 333.5 L 473.63 330 L 471.88 326.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 331px; margin-left: 368px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
校验通过提交后端</div></div></div></foreignObject><text x="368" y="335" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
校验通过提交后端</text></switch></g><path d="M 243 280 Q 273 280 273 305 Q 273 330 249.37 330" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 330 L 251.12 326.5 L 249.37 330 L 251.12 333.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="283" y="290" width="87" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 85px; height: 1px; padding-top: 305px; margin-left: 285px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
校验学员信息</div></div></div></foreignObject><text x="285" y="309" fill="#ff0000" font-family="Helvetica" font-size="12px">
校验学员信息</text></switch></g><path d="M 40 280 L 213.63 280" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.88 280 L 211.88 283.5 L 213.63 280 L 211.88 276.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 282px; margin-left: 121px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
录入学员信息</div></div></div></foreignObject><text x="121" y="286" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
录入学员信息</text></switch></g><path d="M 220 330 L 46.37 330" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 330 L 48.12 326.5 L 46.37 330 L 48.12 333.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 330px; margin-left: 129px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
校验失败提示错误</div></div></div></foreignObject><text x="129" y="334" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
校验失败提示错误</text></switch></g><path d="M 520 380 L 713.63 380" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 718.88 380 L 711.88 383.5 L 713.63 380 L 711.88 376.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 382px; margin-left: 621px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
校验通过保存数据库</div></div></div></foreignObject><text x="621" y="386" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
校验通过保存数据库</text></switch></g><path d="M 500 330 Q 530 330 530 355 Q 530 380 506.37 380" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 501.12 380 L 508.12 376.5 L 506.37 380 L 508.12 383.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="530" y="340" width="87" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 85px; height: 1px; padding-top: 355px; margin-left: 532px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
校验学员信息</div></div></div></foreignObject><text x="532" y="359" fill="#ff0000" font-family="Helvetica" font-size="12px">
校验学员信息</text></switch></g><path d="M 480 380 L 276.37 380" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 271.12 380 L 278.12 376.5 L 276.37 380 L 278.12 383.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 380px; margin-left: 370px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
将校验结果返回给前端</div></div></div></foreignObject><text x="370" y="384" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
将校验结果返回给前端</text></switch></g><path d="M 243 380 Q 273 380 273 405 Q 273 430 249.37 430" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 430 L 251.12 426.5 L 249.37 430 L 251.12 433.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="278" y="400" width="150" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 148px; height: 1px; padding-top: 415px; margin-left: 280px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
校验返回结果<br />
成功需要关闭当前弹窗</div></div></div></foreignObject><text x="280" y="419" fill="#ff0000" font-family="Helvetica" font-size="12px">
校验返回结果&#xa;成功需要关闭当前弹窗</text></switch></g><path d="M 220 430 L 46.37 430" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 430 L 48.12 426.5 L 46.37 430 L 48.12 433.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 429px; margin-left: 130px;"><div data-drawio-colors="color: #ff0000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回信息</div></div></div></foreignObject><text x="130" y="433" fill="#ff0000" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回信息</text></switch></g><path d="M 243 180 Q 273 180 273 205 Q 273 230 249.37 230" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 230 L 251.12 226.5 L 249.37 230 L 251.12 233.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="278" y="190" width="157" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 155px; height: 1px; padding-top: 205px; margin-left: 280px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
以 iframe
的形式弹窗展示</div></div></div></foreignObject><text x="280" y="209" fill="#ff0000" font-family="Helvetica" font-size="12px">
以 iframe
的形式弹窗展示</text></switch></g><path d="M 220 230 L 46.37 230" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 230 L 48.12 226.5 L 46.37 230 L 48.12 233.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 230px; margin-left: 115px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回新增页面</div></div></div></foreignObject><text x="115" y="234" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回新增页面</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">
Text is not SVG - cannot display</text></a></switch></svg>

### 请求新增页面

1. 添加表格头部栏新增按钮
2. 添加新增案例的点击事件
3. 前端发起请求，用 iframe 显示到新的页面
4. 后端返回 html 模板

1、新增表格头部工具栏

```html
<!-- 工具栏模板 -->
<script type="text/html" id="toolbar">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-sm" lay-event="add">添加</button>
        <button class="layui-btn layui-btn-sm" lay-event="delete_many">删除</button>
    </div>
</script>
```

2、添加表格工具栏事件

```js {6}
// 已知数据渲染
var inst = table.render({
    elem: '#student',
    id: 'student',
    url: '/api/student',
    toolbar: '#toolbar',
    cols: [[/*...*/]],
    page: true,
});
```

3、添加点击事件

```js
// 头部工具栏事件
table.on('toolbar(student)', function (obj) {
    var options = obj.config; // 获取当前表格属性配置项
    var checkStatus = table.checkStatus(options.id); // 获取选中行相关数据

    // 根据不同的事件名进行相应的操作
    switch (obj.event) { // 对应模板元素中的 lay-event 属性值
        case 'add':
            window.show_add()
            break;
        case 'delete_many':
            window.delete_many(obj)
            break;
    }
});

window.show_add = function () {
    layer.msg('添加');
}

window.delete_many = function (obj) {
    layer.msg('批量删除');
}
```

4、显示新增表单

4.1、新建子页 html

::: code-group

```html [student_add.html]
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/static/css/layui.css">
</head>
<body>

新增表单

<script src="/static/layui.js"></script>
<script>
    layui.use(function () {
        var $ = layui.$;
        var form = layui.form;

    })
</script>
</body>
</html>
```

:::

4.2、后端返回模板

```python
@app.get('/student_add')
def student_add():
    return render_template('student_add.html')
```

4.3、前端发起请求

```js
window.show_add = function () {
    layer.open({
        type: 2,
        title: '新增学员',
        shadeClose: true,
        maxmin: true, //开启最大化最小化按钮
        area: ['900px', '600px'],
        content: '/student_add'
    });
}
```

### 新增逻辑

1. 添加新增表单
2. 前端录入数据之后进行校验
3. 校验成功之后提交到后端
4. 后端接收数据添加到数据库
5. 前端关闭添加页面

1、添加新增表单

```html

<form class="layui-form" action="" lay-filter="form_add" style="margin-top: 20px">
    <div class="layui-form-item">
        <label class="layui-form-label">姓名</label>
        <div class="layui-input-block">
            <input type="text" name="name" lay-verify="required" autocomplete="off" placeholder="请输入"
                   class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">性别</label>
        <div class="layui-input-block">
            <select name="gender" lay-verify="required">
                <option value=""></option>
                <option value="M">男</option>
                <option value="F">女</option>
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">班级</label>
        <div class="layui-input-block">
            <select name="class_name" lay-verify="required">
                <option value=""></option>
                <option value="一班">一班</option>
                <option value="二班">二班</option>
                <option value="三班">三班</option>
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">手机号</label>
        <div class="layui-input-block">
            <input type="text" name="mobile" lay-verify="required|phone" autocomplete="off" placeholder="请输入"
                   class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">地址</label>
        <div class="layui-input-block">
            <textarea name="address" class="layui-textarea" placeholder="请输入地址"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">创建时间</label>
            <div class="layui-input-inline">
                <input type="text" class="layui-input" name="create_at" id="create-at"
                       placeholder="" autocomplete="off" lay-verify="required">
            </div>
        </div>
    </div>
    <div class="layui-form-item" pane>
        <label class="layui-form-label">禁用</label>
        <div class="layui-input-block">
            <input type="checkbox" name="disable" lay-skin="switch" lay-filter="switchTest" title="是|否">
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button type="submit" class="layui-btn" lay-submit lay-filter="add-commit">立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        </div>
    </div>
</form>
```

2、监控提交事件

```html

<script>
    layui.use(function () {
        var $ = layui.$;
        var form = layui.form;
        var laydate = layui.laydate;

        // 提交事件
        form.on('submit(add-commit)', function (data) {
            var field = data.field; // 获取表单字段值
            console.log(field)
            // 此处可执行 Ajax 等操作
            // …
            return false; // 阻止默认 form 跳转
        });

        // 日期时间选择器
        laydate.render({
            elem: '#create-at',
            type: 'datetime'
        });
    })
</script>
```

3、检测数据并进行提交

```javascript
// 新增提交的方法
const add_student = async (data) => {
    const options = {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(data)
    }
    const response = await fetch('/api/student', options)
    return await response.json()
}

// 提交事件
form.on('submit(add-commit)', function (data) {
    var field = data.field; // 获取表单字段值
    console.log(field)
    // 此处可执行 Ajax 等操作
    field.disable = field?.disable ? true : false

    add_student(field).then(function (ret) {

        // 提交成功之后的回调
        if (!ret.code) {
            layer.msg(ret.msg, {
                icon: 1,
                time: 1000,
            }, function () {
                parent.layer.close(parent.layer.getFrameIndex(window.name)); //关闭当前页
                parent.layui.table.reload('student');
            });
        } else {
            layer.msg(ret.msg, {
                icon: 2,
                time: 1000,
            });
        }
    })

    // …
    return false; // 阻止默认 form 跳转
});
```

4、后端模型添加方法

```python {4-10}
class StudentORM(db.Model):
    ...

    def save(self):
        db.session.add(self)
        db.session.commit()

    def update(self, data):
        for key, value in data.items():
            setattr(self, key, value)

```

5、接口完成新增逻辑

```python
@app.post('/api/student')
def api_student_post():
    data = request.get_json()
    data['create_at'] = datetime.strptime(data['create_at'], '%Y-%m-%d %H:%M:%S')
    student = StudentORM()
    student.update(data)
    try:
        student.save()
    except Exception as e:
        return {
            'code': -1,
            'msg': '新增数据失败'
        }
    return {
        'code': 0,
        'msg': '新增数据成功'
    }
```

## 修改学员信息

修改学员信息，因为表格中会加载完整的学员信息，所以在修改的时候可以在新的 iframe 页面请求数据加载，或者是利用原本已经加载的数据进行修改。

### iframe 版本

这个版本与添加的逻辑差不多，只是需要多一次请求。因为大部分逻辑与新增差不多，在这里我就不写了，如果自己实现看下方的时序图即可。

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="761px" viewBox="-0.5 -0.5 761 622" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2023-06-18T14:55:09.641Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/19.0.3 Chrome/102.0.5005.63 Electron/19.0.3 Safari/537.36&quot; etag=&quot;JG9IHnNJIPdxRj7iK0oL&quot; version=&quot;19.0.3&quot; type=&quot;device&quot; pages=&quot;5&quot;&gt;&lt;diagram id=&quot;t21PZ8GqwSizM6QyjL6_&quot; name=&quot;学员信息渲染&quot;&gt;7Vpdd5s4EP01ekwPIATiEWzSPjS7PZvds489GGSbFiMvyHGcX78SFtgIOXZSHH/VLxaDGKQ7M5o7EgAOZs+fi2g+faAJyYBlJM8ADoFlmcjx+J+QrKTEMo21ZFKkiZRtBI/pC5HCutsiTUjZ6sgozVg6bwtjmuckZi1ZVBR02e42pln7rfNoQjqCxzjKutJ/04RN11JsuRv5F5JOpvWbzXrGs6juLGdSTqOELrdEMARwUFDK1q3Z84BkAr0al/Vz9zvuNgMrSM4OecBJ8T8Pi78yROKXP9D3v8mXH/ROanmKsoWcMAhd4NnAxyB0AMYgkDMt2arGhM9kLpqLWebHjBYABk+kYClH7Ws0Itk3WqYspTnvMqKM0dlWBz9LJ+IGo3MunbJZxi9M3qQLlqU5GTR2NLiwO8d6wFwded4SyTl/JnRGWLHiXeRdR8LfOKC8Xm6sCaVoumXI+rFI+s+kUbyBmDckym9A3NIg7oAAAXwPQgx8V4AeIuB5wgYq9AVd5AlJJGbLacrI4zyKxd0lj8A2pD2gZ9n74WtkH4If1ODH0TIADoXr+gHw7wWi3gDgobiFfeCb54MoMs4NUbuLqAoSyRNfLKb8Kqc5aYOyQfDVkCVJa6XtArQFANLMv5YVJItY+tRen3WgyDd8oykfSYM/bsNvYwXWki6KmMiHtpfT1/VYhqKHRcWEsI6eykLNpN9vNHRTRoNGT1azPO+Tg7zmh9FJrejclBWR05MVEWpb0TupEd03GTHOorJM40u2o6lEY0MS3mxHe4+iI1sOayznRDOR9PNRKf4qShaCgFMKD3iuaIe2uBSUgvNjs2IbnrjkFE70GQK/q6XjD9yQFVVuu0EkyXHMDU8KDWuepUkidAQFKdOXaFTpEy4zFxBVoKEAoKHWiV51XpW/NBWVfAnYLlp0vObO+GS4yGrZsy4vftHf7kwLavXWKuh4XJKjeIjpdVzkYfX4X9axaF0TxStexSSkgPvJ5Ggd9F9HjSCKf06qpeDPdTEk5eW6KjZRPwzUVUsio8tAHc3qoa7W/ZVExk2lQdfrKQ26+JzSINTsJVx3Huykr/caElp7FB3bdJpNCU0i5GnPs6tKOgBeWG1bwGqjiBfZPBcOLjoRwl3r6FllQtxeuT8qDdqaXRfVlPGieGr2Ua4r0KHR5h9Q3Ys5ONAVRbZ5WKBzLKPVVjfp5bsHDPUD3jkuqB/Xxo3WI+jXqTQbT2JN4QtN1fD4cgOrBgKBUdHtoSDgquPxcGVt7ypZQX+SAc3E3nTNF8ZplimiepnJyJi9tsjoiFzbg8c0Z7VyYMHx2OC/fugatBVbul265mp8Hx6LrtldTnzliV7Nz831rxa8HUXH3jXUMW1NxXsvjn1ELJoAV7GIQ+CjKtHz0lcblBeT6Bv3PedEf6I8jw7I89cV2p2IfHdqV9cIVdGxQ1t3jHMIh7+i0G7c95xD+1QcHr3tyOgKYttSN1pUtn1obO/Tc+zQ1h0TqaHNw5ZH9/oM3AaBX0U0rgK5U5WLLWwsDsYvKLRr7/0d2hpwbu4ICuGeGLm7T9GxY/uQM6iqFhZJuqLm/q4vXi42bV/CIdSpQvvmiu1ORL6XkXfWiA9m5M5hxbbKyJGIax7vvCE+BgwuO7QvodjuP23zy82Hvevum++jYfg/&lt;/diagram&gt;&lt;diagram name=&quot;新增学员信息&quot; id=&quot;I_P6UT70xMzTkr6ju2O8&quot;&gt;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&lt;/diagram&gt;&lt;diagram name=&quot;修改学员信息（iframe）&quot; id=&quot;47Mfh0O2w-kDroanQuQW&quot;&gt;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&lt;/diagram&gt;&lt;diagram name=&quot;修改学员信息（单页版）&quot; id=&quot;9PI9HZLUH9gP36BLup0q&quot;&gt;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&lt;/diagram&gt;&lt;diagram id=&quot;JfKkXo5okVbbbnpSJnKK&quot; name=&quot;第 2 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://viewer.diagrams.net/?client=1&amp;page=2&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:622px;"><defs/><g><ellipse cx="15" cy="27.5" rx="7.5" ry="7.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 15 35 L 15 60 M 15 40 L 0 40 M 15 40 L 30 40 M 15 60 L 0 80 M 15 60 L 30 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 87px; margin-left: 15px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
用户</div></div></div></foreignObject><text x="15" y="99" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
用户</text></switch></g><rect x="180" y="20" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 50px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
浏览器</div></div></div></foreignObject><text x="240" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
浏览器</text></switch></g><rect x="440" y="20" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 50px; margin-left: 441px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
后端服务器</div></div></div></foreignObject><text x="500" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
后端服务器</text></switch></g><path d="M 20 620 L 20 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 240 620 L 239.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 500 620 L 499.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 40 140 L 473.63 140" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 140 L 471.88 143.5 L 473.63 140 L 471.88 136.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 141px; margin-left: 121px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
请求修改页面</div></div></div></foreignObject><text x="121" y="144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
请求修改页面</text></switch></g><path d="M 700 15 C 700 6.72 713.43 0 730 0 C 737.96 0 745.59 1.58 751.21 4.39 C 756.84 7.21 760 11.02 760 15 L 760 65 C 760 73.28 746.57 80 730 80 C 713.43 80 700 73.28 700 65 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 760 15 C 760 23.28 746.57 30 730 30 C 713.43 30 700 23.28 700 15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 53px; margin-left: 701px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
MySql</div></div></div></foreignObject><text x="730" y="56" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
MySql</text></switch></g><path d="M 730 620 L 729.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 480 180 L 266.37 180" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 261.12 180 L 268.12 176.5 L 266.37 180 L 268.12 183.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 181px; margin-left: 372px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回修改页面（可选 jinja2
渲染）</div></div></div></foreignObject><text x="372" y="184" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回修改页面（可选 jinja2
渲染）</text></switch></g><path d="M 40 280 L 213.63 280" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.88 280 L 211.88 283.5 L 213.63 280 L 211.88 276.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 283px; margin-left: 131px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
请求学员信息（jinja2跳过）</div></div></div></foreignObject><text x="131" y="286" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
请求学员信息（jinja2跳过）</text></switch></g><path d="M 220 370 L 46.37 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 370 L 48.12 366.5 L 46.37 370 L 48.12 373.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 371px; margin-left: 130px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回渲染之后的页面</div></div></div></foreignObject><text x="130" y="374" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回渲染之后的页面</text></switch></g><path d="M 510 280 L 703.63 280" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 708.88 280 L 701.88 283.5 L 703.63 280 L 701.88 276.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 283px; margin-left: 611px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
查询数据库</div></div></div></foreignObject><text x="611" y="286" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
查询数据库</text></switch></g><path d="M 480 320 L 266.37 320" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 261.12 320 L 268.12 316.5 L 266.37 320 L 268.12 323.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 321px; margin-left: 357px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回学员信息</div></div></div></foreignObject><text x="357" y="324" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回学员信息</text></switch></g><path d="M 240 320 Q 270 320 270 345 Q 270 370 246.37 370" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 241.12 370 L 248.12 366.5 L 246.37 370 L 248.12 373.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="270" y="330" width="150" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 148px; height: 1px; padding-top: 345px; margin-left: 272px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
将数据渲染到修改页面</div></div></div></foreignObject><text x="272" y="349" fill="#ff0000" font-family="Helvetica" font-size="12px">
将数据渲染到修改页面</text></switch></g><path d="M 243 180 Q 273 180 273 205 Q 273 230 249.37 230" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 230 L 251.12 226.5 L 249.37 230 L 251.12 233.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="278" y="190" width="157" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 155px; height: 1px; padding-top: 205px; margin-left: 280px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
以 iframe
的形式弹窗展示</div></div></div></foreignObject><text x="280" y="209" fill="#ff0000" font-family="Helvetica" font-size="12px">
以 iframe
的形式弹窗展示</text></switch></g><path d="M 220 230 L 46.37 230" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 230 L 48.12 226.5 L 46.37 230 L 48.12 233.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 231px; margin-left: 116px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回修改页面</div></div></div></foreignObject><text x="116" y="234" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回修改页面</text></switch></g><path d="M 260 280 L 473.63 280" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 280 L 471.88 283.5 L 473.63 280 L 471.88 276.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 283px; margin-left: 360px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
请求学员信息</div></div></div></foreignObject><text x="360" y="286" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
请求学员信息</text></switch></g><path d="M 270 480 L 473.63 480" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 480 L 471.88 483.5 L 473.63 480 L 471.88 476.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 482px; margin-left: 368px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
校验通过提交后端</div></div></div></foreignObject><text x="368" y="485" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
校验通过提交后端</text></switch></g><path d="M 243 430 Q 273 430 273 455 Q 273 480 249.37 480" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 480 L 251.12 476.5 L 249.37 480 L 251.12 483.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="283" y="440" width="87" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 85px; height: 1px; padding-top: 455px; margin-left: 285px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
校验学员信息</div></div></div></foreignObject><text x="285" y="459" fill="#ff0000" font-family="Helvetica" font-size="12px">
校验学员信息</text></switch></g><path d="M 40 430 L 213.63 430" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.88 430 L 211.88 433.5 L 213.63 430 L 211.88 426.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 433px; margin-left: 121px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
修改学员信息</div></div></div></foreignObject><text x="121" y="436" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
修改学员信息</text></switch></g><path d="M 220 480 L 46.37 480" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 480 L 48.12 476.5 L 46.37 480 L 48.12 483.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 481px; margin-left: 130px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
校验失败提示错误</div></div></div></foreignObject><text x="130" y="484" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
校验失败提示错误</text></switch></g><path d="M 520 530 L 713.63 530" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 718.88 530 L 711.88 533.5 L 713.63 530 L 711.88 526.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 533px; margin-left: 621px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
校验通过保存数据库</div></div></div></foreignObject><text x="621" y="536" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
校验通过保存数据库</text></switch></g><path d="M 500 480 Q 530 480 530 505 Q 530 530 506.37 530" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 501.12 530 L 508.12 526.5 L 506.37 530 L 508.12 533.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="530" y="490" width="87" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 85px; height: 1px; padding-top: 505px; margin-left: 532px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
校验学员信息</div></div></div></foreignObject><text x="532" y="509" fill="#ff0000" font-family="Helvetica" font-size="12px">
校验学员信息</text></switch></g><path d="M 480 530 L 276.37 530" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 271.12 530 L 278.12 526.5 L 276.37 530 L 278.12 533.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 531px; margin-left: 371px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
将校验结果返回给前端</div></div></div></foreignObject><text x="371" y="534" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
将校验结果返回给前端</text></switch></g><path d="M 243 530 Q 273 530 273 555 Q 273 580 249.37 580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 580 L 251.12 576.5 L 249.37 580 L 251.12 583.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="278" y="550" width="150" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 148px; height: 1px; padding-top: 565px; margin-left: 280px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
校验返回结果<br />
成功需要关闭当前弹窗</div></div></div></foreignObject><text x="280" y="569" fill="#ff0000" font-family="Helvetica" font-size="12px">
校验返回结果&#xa;成功需要关闭当前弹窗</text></switch></g><path d="M 220 580 L 46.37 580" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 580 L 48.12 576.5 L 46.37 580 L 48.12 583.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 579px; margin-left: 131px;"><div data-drawio-colors="color: #ff0000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回信息</div></div></div></foreignObject><text x="131" y="583" fill="#ff0000" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回信息</text></switch></g><path d="M 710 320 L 516.37 320" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 511.12 320 L 518.12 316.5 L 516.37 320 L 518.12 323.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 321px; margin-left: 612px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回学员数据</div></div></div></foreignObject><text x="612" y="324" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回学员数据</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">
Text is not SVG - cannot display</text></a></switch></svg>

### 单页版

单页面是利用原来表格中已有的数据，将其设置到之前已经定义好的表单中，然后将表单显示出来，修改完之后再将表单设置为空，然后影藏。

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="761px" viewBox="-0.5 -0.5 761 442" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2023-06-18T14:58:15.063Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/19.0.3 Chrome/102.0.5005.63 Electron/19.0.3 Safari/537.36&quot; etag=&quot;nYzIztt-v3PNhFwcWV8l&quot; version=&quot;19.0.3&quot; type=&quot;device&quot; pages=&quot;5&quot;&gt;&lt;diagram id=&quot;t21PZ8GqwSizM6QyjL6_&quot; name=&quot;学员信息渲染&quot;&gt;7Vpdd5s4EP01ekwPIATiEWzSPjS7PZvds489GGSbFiMvyHGcX78SFtgIOXZSHH/VLxaDGKQ7M5o7EgAOZs+fi2g+faAJyYBlJM8ADoFlmcjx+J+QrKTEMo21ZFKkiZRtBI/pC5HCutsiTUjZ6sgozVg6bwtjmuckZi1ZVBR02e42pln7rfNoQjqCxzjKutJ/04RN11JsuRv5F5JOpvWbzXrGs6juLGdSTqOELrdEMARwUFDK1q3Z84BkAr0al/Vz9zvuNgMrSM4OecBJ8T8Pi78yROKXP9D3v8mXH/ROanmKsoWcMAhd4NnAxyB0AMYgkDMt2arGhM9kLpqLWebHjBYABk+kYClH7Ws0Itk3WqYspTnvMqKM0dlWBz9LJ+IGo3MunbJZxi9M3qQLlqU5GTR2NLiwO8d6wFwded4SyTl/JnRGWLHiXeRdR8LfOKC8Xm6sCaVoumXI+rFI+s+kUbyBmDckym9A3NIg7oAAAXwPQgx8V4AeIuB5wgYq9AVd5AlJJGbLacrI4zyKxd0lj8A2pD2gZ9n74WtkH4If1ODH0TIADoXr+gHw7wWi3gDgobiFfeCb54MoMs4NUbuLqAoSyRNfLKb8Kqc5aYOyQfDVkCVJa6XtArQFANLMv5YVJItY+tRen3WgyDd8oykfSYM/bsNvYwXWki6KmMiHtpfT1/VYhqKHRcWEsI6eykLNpN9vNHRTRoNGT1azPO+Tg7zmh9FJrejclBWR05MVEWpb0TupEd03GTHOorJM40u2o6lEY0MS3mxHe4+iI1sOayznRDOR9PNRKf4qShaCgFMKD3iuaIe2uBSUgvNjs2IbnrjkFE70GQK/q6XjD9yQFVVuu0EkyXHMDU8KDWuepUkidAQFKdOXaFTpEy4zFxBVoKEAoKHWiV51XpW/NBWVfAnYLlp0vObO+GS4yGrZsy4vftHf7kwLavXWKuh4XJKjeIjpdVzkYfX4X9axaF0TxStexSSkgPvJ5Ggd9F9HjSCKf06qpeDPdTEk5eW6KjZRPwzUVUsio8tAHc3qoa7W/ZVExk2lQdfrKQ26+JzSINTsJVx3Huykr/caElp7FB3bdJpNCU0i5GnPs6tKOgBeWG1bwGqjiBfZPBcOLjoRwl3r6FllQtxeuT8qDdqaXRfVlPGieGr2Ua4r0KHR5h9Q3Ys5ONAVRbZ5WKBzLKPVVjfp5bsHDPUD3jkuqB/Xxo3WI+jXqTQbT2JN4QtN1fD4cgOrBgKBUdHtoSDgquPxcGVt7ypZQX+SAc3E3nTNF8ZplimiepnJyJi9tsjoiFzbg8c0Z7VyYMHx2OC/fugatBVbul265mp8Hx6LrtldTnzliV7Nz831rxa8HUXH3jXUMW1NxXsvjn1ELJoAV7GIQ+CjKtHz0lcblBeT6Bv3PedEf6I8jw7I89cV2p2IfHdqV9cIVdGxQ1t3jHMIh7+i0G7c95xD+1QcHr3tyOgKYttSN1pUtn1obO/Tc+zQ1h0TqaHNw5ZH9/oM3AaBX0U0rgK5U5WLLWwsDsYvKLRr7/0d2hpwbu4ICuGeGLm7T9GxY/uQM6iqFhZJuqLm/q4vXi42bV/CIdSpQvvmiu1ORL6XkXfWiA9m5M5hxbbKyJGIax7vvCE+BgwuO7QvodjuP23zy82Hvevum++jYfg/&lt;/diagram&gt;&lt;diagram name=&quot;新增学员信息&quot; id=&quot;I_P6UT70xMzTkr6ju2O8&quot;&gt;7Vxbk6I4FP41eewpIASSR/CyU7Uzu1PVVbv7toUQlW0UB7G77V+/SQgoId0qI9il+jCDBzjiuXz5zjmxARwsXn/LgtX8exrRBFhG9ArgEFgWcSD7lwu2hQBDuxDMsjgqROZO8Bi/USk0pHQTR3RduzBP0ySPV3VhmC6XNMxrsiDL0pf6ZdM0qX/qKpjRhuAxDJKm9O84yufyW1juTv6VxrN5+cmmQ4ozi6C8WH6T9TyI0pc9ERwBOMjSNC+OFq8DmnDblXYx7NXT4+/B23jw/Mcimo/+WpHXh0LZ+JRbqq+Q0WV+XtVWofo5SDbSXmDkAmIDD4ORAzAGvjTUOt+WJmWGWPHDzSLxwjzNAPSfaZbHzOjfgglNfqTrOI/TJbtkkuZ5uti7wEviGT+RpysmneeLhL0x2WG6yZN4SQdVGBhMKJ+O3UtfFXcesIVZOYgFNk0XNM+27D6pxZEulTFtli5+2UUIlKL5XnCUtwUyJmeV4p3d2YE0/QlugBo3OMBHAI/BCAPP5Z4YIUAId4zqjyzdLCMaSUO+zOOcPq6CkJ99YTldt3NXJrXswzatZL0Y1dYYlZnQAHjEg9zzgTfmZiYDgIf8FPaAZ35yMyPjs5kZNc2sWo4uI49DOXu3TJe0bqmdWXcZT6MGqLez2p5VkMYopSyjSZDHz/XP1FlKfsKPNGZPUzkF133iGIqt1+kmC6m8aR+iP9ZjqXryIJvRvKFHuK360u096dw9CY0zudIi5IuDSPXC6KKude+uRc6ZXItQ3bXORT2LT/JsmATrdRxenXNNJW8rNnKyc+0Dijp2J9G40wkWnF0sJ2v+nyCEY87LOUU0ARZckUWhb3Du4lmAMH5DOJVhBJIdkCEXqloaQcIcLth7PTYCyddD5nyaaYj8Io4irsPP6Dp+CyZCH4+jFTeRMBryARp+xIlk7SdvBlXFdTDmsD7mpPYH44vhIqvmz7KY+sV4ezAtqNVbqkin0zXtJELKwnovRL5vH38mDY+WZVq4ZYVVRDN4mLVOCiT4NqkEQfg0E/jwZ1GfSfm6qPNN1CHVddUqzWhSXUcDKbgrpmua91XUJWdaRV38mVZR876Malc/NZeO9S60Dijq2p/HraP+mPe6eMXvi1XzVtdR83ILKa5jfF+rqKXpDt1gwkNYz1Mbnok3NxR1nPCWrg2lJrwDPEO0+FhWewAP+AEDJuJJLMCCU+MxbxKObOB7wLM1PcOrhIAiIXqFgB6y/IiWVrjJnquu7i2kvFGvXGDrNV5RdGzKMwMH273LZHR/gFH6B373uaD+uXaxVTzBeSNN02HT4A3jFYxFOAJUTECwgJmxuIYBjynQRYlPluF5PQjXeZY+0UGa8NFbWWZM4yRRRCXgJHSafwQ3uqKwHujTdJmXyoEFp1ODvTos/aCtuJw0Sz/sNlNEjcDzDeiaRfct0gW1zdYaO9RRR0NRx3QB6kp5lS4g4A8BQWI0yBIXHZe+10gOoKGPuh7qgzoQ9FYfwHt9oMvT1vWBihx91wewXX2AeAXgm6I+sAUEVPWBK055ojNg8y0DRV/+aiGg//rgwi0CeNo8/FohAKkQ0HbNdw8p6hoCdEPwNi0CseaToaQDROyUYzSB9w0dvpXIGwnu4AECrxQLnEthQfdQ8F/4M/53+/gWoWG8GJNs8HX8z4OOLd54G0HdTtG+c6gqOhIWTm0jIKJ/4HefS72+3nb45TaCNtCsZqDduwhtuwgND5Y96h66CFrvarb53iKhUEcFrRuQ6vCiO0KhdaeuRNT0EAyAHV0Wu8D3OUXg7GHEdyFrBpLFNUS0IIjYpnwtQ4j3E+Qy+3m67zNov/F9QHF4rnCuAQXqaUBhnzigQGceUGgD7bj5xHsItIdSlpNwHjDJ2NEsl0UTxqInIn5DQcaiJzLgdRPviQhKUvRQfShOuZy/yPYq3MM2JhkAnwiQ8/hldxbDo6Ve9CDNNjhTl46d0Zj7Xil+hdoaRRb5QvZeuB1oqY3SA2o7pjjttlF9xqHIyWnbmsRcbi+V2xdrMY+oZG6dtrTfO6lu0OiJtlgn0hbYB20xdb/itDkn8RC/d5oFC8oOxM+WGYexJa/wLEkn+C9oG7yCS0wx2i2nOHem0WQalmbXhYn6bJiY9xGMjmo0EKEtuTgWWs6WzceMYG5yW/YH4X8RKmHV1Z6hH8Le7v5WRnH57g+OwNH/&lt;/diagram&gt;&lt;diagram name=&quot;修改学员信息（iframe）&quot; id=&quot;47Mfh0O2w-kDroanQuQW&quot;&gt;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&lt;/diagram&gt;&lt;diagram name=&quot;修改学员信息（单页版）&quot; id=&quot;9PI9HZLUH9gP36BLup0q&quot;&gt;7VzLduI4EP0aLdPHtvyQlubVs+jM9DlZzPTS2AJ8YhBtRB799SMJ2diS0jyCCXRgE1EWZVNVurpVJQJgf/7ytUyWs3uakQJ4TvYC4AB4nhuEmP8Rklcl8VxnI5mWeaZkW8FD/osoYTVtnWdk1ZrIKC1YvmwLU7pYkJS1ZElZ0uf2tAkt2nddJlNiCB7SpDCl/+YZm22kyIu28r9IPp1Vd3arbzxPqsnqm6xmSUafGyI4BLBfUso2o/lLnxTCepVd0Pzl7/WP/x7vsyz7iQaL9Y/79G6jbHTIR+qvUJIFO61qb6P6KSnWyl5gGAHsgxiBYQgQAj1lqBV7rUzKDbEUw/W8iFNGSwB7T6RkOTf6t2RMiu90lbOcLviUMWWMzhsT4iKfiguMLrl0xuYFf+PyIV2zIl+Qfh0GDhfu+cWVgcQ9yEvD7coQXwmdE1a+8inqaqhcWge1ev+8jRCoRLNGcFQfS1RMTmvFW7vzgTL9AW6AFjeEoBcANAJDBOJIeGIYAIyFY3R/lHS9yEimDPk8yxl5WCapuPrMV3Xbzl2Z1PN327SWncWovsWo3IQOQEMR5HEPxCNhZtwHaCAuoRjE7oWbOXAuzcyBaWbdcmSRxQLK+bsFXZC2pbZmPXzFk6wF/qbVGlYJLEapZCUpEpY/tbcMm6XUHb7TnD9e7RTU9knga7Ze0XWZEvWhJkT/Xo/naHpYUk4JM/RIt9Vf+nhPhjdPQudErvQw/hIGuH6h4ENdG91cG4Qncm0QtF0bfqhn0UGeTYtktcrTP865rrZuvaPXrY7BuqKO3Ykt7gyTuWAXi/FK/JGEcCR4uaCILkCc1vigNwLxULIZPsZgiAWV4QSSD/AAxKYWI0i4IyV7b8dGovh6yqOBlBYiP8+zTOjolWSV/0rGUp+Io6UwkTRa0APBYP/IqiJa50R1jqhuApppmI0r3TlfnCjwWv6s4vad8WZXWn2eTiYr0kl4VFl1Iz7uXx9+FoY7qxwtfeVZVUZKuJuyjjcw8G1cC5L0cSrB4Z9Ncqbkq02S7wYd8txIT9Eck+eGFjxBXdFc1zUs/+m20AifaAuN0CVtoZ4lU9Rdm67Lpzr3+wQbKnTgaTZUQxHez7ncwMlrY5raTt5+YGh/4DefS5+PW/P5YPMEp400S7IsdnEEenKARwBDUYHgu7uS9AHCcsCFjqzJDeROzxkAv9SXk/tyy49AHAMcSYkr5gsJZwOxEcwcg1k7YlespI+kTwtRzavAa5IXhSaq6EBBJux3ZMC21bRXxYQuWKUceHAycfirww0FQtT2d2BuKG4QmQsKdrWjeIfl238q0hiMWweIfZHGyAH2RJqTLW5bkm1yd87UOUcXVcYewMM/jLvXMX3J5P1Oo+9nY+/QZO+fccVD2F6o8NgVH/g7FHW84qEtJ9BXfAhiR/YVsNifxY6NAYc8HCswQDKRRyPRmRjK7Tr2LY2K68GAOsovEgPOsMq93av8s6cT8FTpxL5L/r3pBDwwnYDnSCegvW+s400AYk4jQgkqPDFAFedwJfC4El1uGQJ3seZCS4aAzpkgwD3qEp8AO3RefzR26JmGoahrumBrlet0wUwH9lm+10MOqpi+SHJQqW4Dwfnyg1tFwLpOT1UROHt+sE9FwLpf+6KEJ/IDH8RBIz+oKnqiNOCLc0qbZuB1QcBV1Aja1cLzQcCtny/VaBDgH99p2qGoawjYp6G/T4lA7vl4oOgARraeQCCgAcNrwoJraPZ/EBRUkXqrIzRwITwRNdAV7YsLh9YRAmx/4DefC9ufq9M6gm+pY97qCEcf0dZdaDm6ctY6gu/dOAUwuwVHcwq9f3FuTuFbyn4Gp5DUAIW2dRyBXk+eMwhFAxL3bV3JzRxZfUBY/j7i+hoRddxfMrm4cz+o2ODfTj3t7C4cDxG6ojO1KfwD2xT+OdoUvv3Ukw5Lb4FQA6i8sBBkYFzy0ZSp3AkhWRqRv9/CI1ka6Yv0SZRGJC8RlzgcQnkpEiRGoONAHbVS8GYco7pRGfPQlB+aVMa1rcfuuMytRCpm6CVSH+EvuPFCx8GWXjDdobZrnvOeA1WX1R1558L1r6JkGr2fuvC32x/Ub6Zv/y8BHP4P&lt;/diagram&gt;&lt;diagram id=&quot;JfKkXo5okVbbbnpSJnKK&quot; name=&quot;第 2 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://viewer.diagrams.net/?client=1&amp;page=3&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:442px;"><defs/><g><ellipse cx="15" cy="27.5" rx="7.5" ry="7.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 15 35 L 15 60 M 15 40 L 0 40 M 15 40 L 30 40 M 15 60 L 0 80 M 15 60 L 30 80" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 87px; margin-left: 15px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
用户</div></div></div></foreignObject><text x="15" y="99" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
用户</text></switch></g><rect x="180" y="20" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 50px; margin-left: 181px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
浏览器</div></div></div></foreignObject><text x="240" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
浏览器</text></switch></g><rect x="440" y="20" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 50px; margin-left: 441px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
后端服务器</div></div></div></foreignObject><text x="500" y="54" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
后端服务器</text></switch></g><path d="M 20 440 L 20 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 240 440 L 239.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 500 440 L 499.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 40 140 L 213.63 140" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.88 140 L 211.88 143.5 L 213.63 140 L 211.88 136.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 141px; margin-left: 126px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
请求修改页面</div></div></div></foreignObject><text x="126" y="144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
请求修改页面</text></switch></g><path d="M 700 15 C 700 6.72 713.43 0 730 0 C 737.96 0 745.59 1.58 751.21 4.39 C 756.84 7.21 760 11.02 760 15 L 760 65 C 760 73.28 746.57 80 730 80 C 713.43 80 700 73.28 700 65 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 760 15 C 760 23.28 746.57 30 730 30 C 713.43 30 700 23.28 700 15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 53px; margin-left: 701px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
MySql</div></div></div></foreignObject><text x="730" y="56" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
MySql</text></switch></g><path d="M 730 440 L 729.66 100" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 243 140 Q 273 140 273 165 Q 273 190 249.37 190" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 190 L 251.12 186.5 L 249.37 190 L 251.12 193.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="278" y="150" width="157" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 155px; height: 1px; padding-top: 165px; margin-left: 280px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
渲染已有数据，弹窗展示</div></div></div></foreignObject><text x="280" y="169" fill="#ff0000" font-family="Helvetica" font-size="12px">
渲染已有数据，弹窗展示</text></switch></g><path d="M 220 190 L 46.37 190" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 190 L 48.12 186.5 L 46.37 190 L 48.12 193.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 191px; margin-left: 116px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回修改页面</div></div></div></foreignObject><text x="116" y="194" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回修改页面</text></switch></g><path d="M 270 290 L 473.63 290" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 478.88 290 L 471.88 293.5 L 473.63 290 L 471.88 286.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 292px; margin-left: 368px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
校验通过提交后端</div></div></div></foreignObject><text x="368" y="295" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
校验通过提交后端</text></switch></g><path d="M 243 240 Q 273 240 273 265 Q 273 290 249.37 290" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 290 L 251.12 286.5 L 249.37 290 L 251.12 293.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="283" y="250" width="87" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 85px; height: 1px; padding-top: 265px; margin-left: 285px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
校验学员信息</div></div></div></foreignObject><text x="285" y="269" fill="#ff0000" font-family="Helvetica" font-size="12px">
校验学员信息</text></switch></g><path d="M 40 240 L 213.63 240" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.88 240 L 211.88 243.5 L 213.63 240 L 211.88 236.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 243px; margin-left: 121px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
修改学员信息</div></div></div></foreignObject><text x="121" y="246" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
修改学员信息</text></switch></g><path d="M 220 290 L 46.37 290" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 290 L 48.12 286.5 L 46.37 290 L 48.12 293.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 291px; margin-left: 130px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
校验失败提示错误</div></div></div></foreignObject><text x="130" y="294" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
校验失败提示错误</text></switch></g><path d="M 520 340 L 713.63 340" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 718.88 340 L 711.88 343.5 L 713.63 340 L 711.88 336.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 343px; margin-left: 621px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
校验通过保存数据库</div></div></div></foreignObject><text x="621" y="346" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
校验通过保存数据库</text></switch></g><path d="M 500 290 Q 530 290 530 315 Q 530 340 506.37 340" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 501.12 340 L 508.12 336.5 L 506.37 340 L 508.12 343.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="530" y="300" width="87" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 85px; height: 1px; padding-top: 315px; margin-left: 532px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
校验学员信息</div></div></div></foreignObject><text x="532" y="319" fill="#ff0000" font-family="Helvetica" font-size="12px">
校验学员信息</text></switch></g><path d="M 480 340 L 276.37 340" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 271.12 340 L 278.12 336.5 L 276.37 340 L 278.12 343.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 341px; margin-left: 371px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
将校验结果返回给前端</div></div></div></foreignObject><text x="371" y="344" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
将校验结果返回给前端</text></switch></g><path d="M 243 340 Q 273 340 273 365 Q 273 390 249.37 390" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 244.12 390 L 251.12 386.5 L 249.37 390 L 251.12 393.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="278" y="360" width="150" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 148px; height: 1px; padding-top: 375px; margin-left: 280px;"><div data-drawio-colors="color: #ff0000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
校验返回结果<br />
成功需要关闭当前弹窗</div></div></div></foreignObject><text x="280" y="379" fill="#ff0000" font-family="Helvetica" font-size="12px">
校验返回结果&#xa;成功需要关闭当前弹窗</text></switch></g><path d="M 220 390 L 46.37 390" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 41.12 390 L 48.12 386.5 L 46.37 390 L 48.12 393.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 389px; margin-left: 131px;"><div data-drawio-colors="color: #ff0000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(255, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
返回信息</div></div></div></foreignObject><text x="131" y="393" fill="#ff0000" font-family="Helvetica" font-size="11px" text-anchor="middle">
返回信息</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">
Text is not SVG - cannot display</text></a></switch></svg>

1、新增表格单元格事件

```html
<!-- 表头某列 templet 属性指向的模板 -->
<script type="text/html" id="tools">
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>
```

挂载表格栏事件

```
{title: '操作', width: 120, templet: '#tools'}
```

2、添加编辑、删除事件

```js
// 单元格工具事件
table.on('tool(student)', function (obj) {
    var layEvent = obj.event; // 获得元素对应的 lay-event 属性值
    if (layEvent === 'edit') { //编辑
        window.show_edit(obj)
    } else if (layEvent === 'del') { //删除
        layer.confirm('确定删除吗？', function (index) {
            layer.close(index);
            window.del_student(obj)
        });
    }
});

window.show_edit = (obj) => {
    layer.msg('显示编辑表单')
}

window.del_student = (obj) => {
    layer.msg('删除学生数据')
}
```

3、新增修改表单

```html

<form class="layui-form" action="" id="form_edit" lay-filter="form_edit" style="margin-top: 20px;display: none">
    <div class="layui-form-item" style="display: none">
        <label class="layui-form-label">ID</label>
        <div class="layui-input-block">
            <input type="text" name="id" lay-verify="required" autocomplete="off" placeholder="请输入"
                   class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">姓名</label>
        <div class="layui-input-block">
            <input type="text" name="name" lay-verify="required" autocomplete="off" placeholder="请输入"
                   class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">性别</label>
        <div class="layui-input-block">
            <select name="gender" lay-verify="required">
                <option value=""></option>
                <option value="M">男</option>
                <option value="F">女</option>
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">班级</label>
        <div class="layui-input-block">
            <select name="class_name" lay-verify="required">
                <option value=""></option>
                <option value="一班">一班</option>
                <option value="二班">二班</option>
                <option value="三班">三班</option>
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">手机号</label>
        <div class="layui-input-block">
            <input type="text" name="mobile" lay-verify="required|phone" autocomplete="off" placeholder="请输入"
                   class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">地址</label>
        <div class="layui-input-block">
            <textarea name="address" class="layui-textarea" placeholder="请输入地址"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">创建时间</label>
            <div class="layui-input-inline">
                <input type="text" class="layui-input" name="create_at" id="create-at"
                       placeholder="" autocomplete="off" lay-verify="required">
            </div>
        </div>
    </div>
    <div class="layui-form-item" pane>
        <label class="layui-form-label">禁用</label>
        <div class="layui-input-block">
            <input type="checkbox" name="disable" lay-skin="switch" lay-filter="switchTest" title="是|否">
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button type="submit" class="layui-btn" lay-submit lay-filter="edit-commit">立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        </div>
    </div>
</form>
```

4、加载数据并显示表单

```js
// 日期时间选择器
laydate.render({
    elem: '#create-at',
    type: 'datetime'
});

window.show_edit = (obj) => {
    console.log(obj.data)

    form.val('form_edit', obj.data);

    layer.open({
        type: 1,
        area: ['900px', '600px'],
        content: $('#form_edit'), // 捕获的元素
    });
}
```

5、校验数据并完成提交

```js
// 新增提交的方法
const change_student = async (id, data) => {
    const options = {
        method: 'PUT',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(data)
    }
    const response = await fetch(`/api/student/${id}`, options)
    return await response.json()
}

// 提交事件
form.on('submit(edit-commit)', function (data) {
    var field = data.field; // 获取表单字段值
    // console.log(field)
    // 此处可执行 Ajax 等操作
    field.disable = field?.disable ? true : false

    change_student(field.id, field).then(function (ret) {

        // 提交成功之后的回调
        if (!ret.code) {
            layer.msg(ret.msg, {
                icon: 1,
                time: 1000,
            }, function () {
                layer.closeAll('page');
                table.reload('student');
            });
        } else {
            layer.msg(ret.msg, {
                icon: 2,
                time: 1000,
            });
        }
    })

    return false; // 阻止默认 form 跳转
});
```
6、后端完成修改
```python
class StudentORM(db.Model):
    ...

    def update(self, data):
        for key, value in data.items():
            setattr(self, key, value)


@app.put('/api/student/<int:sid>')
def api_student_put(sid):
    data = request.get_json()
    data['create_at'] = datetime.strptime(data['create_at'], '%Y-%m-%d %H:%M:%S')
    # student = StudentORM.query.get(sid)
    student = db.get_or_404(StudentORM, sid)
    student.update(data)
    try:
        student.save()
    except Exception as e:
        return {
            'code': -1,
            'msg': '修改数据失败'
        }
    return {
        'code': 0,
        'msg': '修改数据成功'
    }
```
7、表单恢复初始状态

这个可以做可以不做，因为下次显示的时候会再次覆盖

## 删除学员信息

删除数据时有两种方式，一种是物理删除，另一种是逻辑删除。物理删除就是从数据库中彻底删除，而逻辑删除则是在数据库中保留，但是不再显示给用户。就像被
404 的微信公众号文章，虽然在公众号上无法找到也无法查看，但是在腾讯的服务器中还保留着，说不定未来某一天还能再次看到。

1、前端请求删除

```js
// 新增提交的方法
const del_student_api = async (id) => {
    const options = {
        method: 'DELETE',
        headers: {'Content-Type': 'application/json'},
    }
    const response = await fetch(`/api/student/${id}`, options)
    return await response.json()
}

window.del_student = (obj) => {
    // console.log(obj)
    del_student_api(obj.data.id).then(function (ret) {
        // 提交成功之后的回调
        if (!ret.code) {
            layer.msg(ret.msg, {
                icon: 1,
                time: 1000,
            }, function () {
                table.reload('student');
            });
        } else {
            layer.msg(ret.msg, {
                icon: 2,
                time: 1000,
            });
        }
    })
}
```

2、后端实现逻辑删除

```python
@app.delete('/api/student/<int:sid>')
def api_student_del(sid):
    student: StudentORM = db.get_or_404(StudentORM, sid)
    try:
        # db.session.delete(student)
        student.is_del = True
        db.session.commit()
    except Exception as e:
        return {
            'code': -1,
            'msg': '删除数据失败'
        }
    return {
        'code': 0,
        'msg': '删除数据成功'
    }
```

3、查询学员的时候过滤以删除

在获取学员列表的方法里面过滤已经删除的数据，不再返回给前端。

## 修改学员单个信息

默认修改信息需要打开一个新的编辑页面进行操作，如果能够在表格上像 excel 一样修改，则会变得非常方便。而 layui
就提供了这么一套机制，可以直接在表格上进行修改。

### 修改班级

1、渲染班级列

```html
<!-- 推荐 -->
<script type="text/html" id="TPL-dropdpwn-demo">
    <button class="layui-btn layui-btn-sm layui-btn-primary dropdpwn-demo">
        <span>{{ "{{= d.class_name }}"|safe }}</span>
        <i class="layui-icon layui-icon-down layui-font-12"></i>
    </button>
</script>
```

```
{field: 'class_name', title: '班级', width: 120, templet: '#TPL-dropdpwn-demo'},
```

2、渲染下拉组件

```js
// 已知数据渲染
var inst = table.render({
    elem: '#student',
    // 表格渲染完之后再在里面渲染下拉框
    done: function (res, curr, count) {
        var options = this;
        // 获取当前行数据
        table.getRowData = function (elem) {
            var index = $(elem).closest('tr').data('index');
            return table.cache[options.id][index] || {};
        };
        // dropdown 方式的下拉选择
        dropdown.render({
            elem: '.dropdpwn-demo',
            // trigger: 'hover',
            // 此处的 data 值，可根据 done 返回的 res 遍历来赋值
            data: [{
                title: '一班',
                id: 100
            }, {
                title: '二班',
                id: 101
            }, {
                title: '三班',
                id: 102
            }],
            click: function (obj) {
                var data = table.getRowData(this.elem); // 获取当前行数据(如 id 等字段，以作为数据修改的索引)

                this.elem.find('span').html(obj.title);
                // 更新数据中对应的字段
                data.class_name = obj.title;
                // 显示 - 仅用于演示
                layer.msg('选中值: ' + obj.title + '<br>当前行数据：' + JSON.stringify(data));

            }
        });
    }
});

```

3、添加修改请求

```js
 const change_student_class_name = async (id, data) => {
    const options = {
        method: 'PUT',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(data)
    }
    const response = await fetch(`/api/student/${id}/class_name`, options)
    return await response.json()
}

change_student_class_name(data.id, {'class_name': data.class_name}).then(function (ret) {
    if (!ret.code) {
        layer.msg(ret.msg, {
            icon: 1,
            time: 1000,
        });
    } else {
        layer.msg(ret.msg, {
            icon: 2,
            time: 1000,
        }, function () {
            table.reload('student');
        });
    }
})
```

4、后端完成修改

```python
@app.put('/api/student/<int:sid>/class_name')
def api_student_class_name(sid):
    student: StudentORM = db.get_or_404(StudentORM, sid)
    data = request.get_json()
    try:
        student.class_name = data['class_name']
        student.save()
    except Exception as e:
        return {
            'code': -1,
            'msg': '修改班级失败'
        }
    return {
        'code': 0,
        'msg': '修改班级成功'
    }
```

### 修改地址

1、地址列设置为可以编辑

```
{field: 'address', title: '地址', minWidth: 160, edit: 'textarea'}
```

2、前端编辑事件

内容下载 table 的 done 方法里面

```js
// 单元格普通编辑事件
table.on('edit(student)', function (obj) {
    var value = obj.value // 得到修改后的值
    var data = obj.data // 得到所在行所有键值
    var field = obj.field; // 得到字段

    var send_data = {}
    send_data[field] = value

    const change_student_class_name = async (id, data) => {
        const options = {
            method: 'PUT',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(data)
        }
        const response = await fetch(`/api/student/${id}/address`, options)
        return await response.json()
    }

    change_student_class_name(data.id, send_data).then(function (ret) {
        if (!ret.code) {
            layer.msg(ret.msg, {
                icon: 1,
                time: 1000,
            });
        } else {
            layer.msg(ret.msg, {
                icon: 2,
                time: 1000,
            }, function () {
                table.reload('student');
            });
        }
    })
});
```

3、后端完成修改

```python
@app.put('/api/student/<int:sid>/address')
def api_student_address(sid):
    student: StudentORM = db.get_or_404(StudentORM, sid)
    data = request.get_json()
    try:
        student.address = data['address']
        student.save()
    except Exception as e:
        return {
            'code': -1,
            'msg': '修改地址失败'
        }
    return {
        'code': 0,
        'msg': '修改地址成功'
    }
```

### 修改禁用状态

1、完成禁用列的渲染

```js
function render_disable(d) {
    return `<input type="checkbox" name="disable" value="${d.id}" title="是|否" lay-skin="switch" ${d.disable ? 'checked' : ''} lay-filter="switch-disable"/>`
}
```

```
{field: 'disable', title: '禁用', width: 100, templet: render_disable},
```

2、前端事件处理

```js
form.on('switch(switch-disable)', function (obj) {
    var value = this.value;
    var name = this.name;

    const send_data = {}
    send_data[name] = !!obj.elem.checked

    const change_student_disable = async (id, data) => {
        const options = {
            method: 'PUT',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(data)
        }
        const response = await fetch(`/api/student/${id}/disable`, options)
        return await response.json()
    }

    change_student_disable(value, send_data).then(function (ret) {
        if (!ret.code) {
            layer.msg(ret.msg, {
                icon: 1,
                time: 1000,
            });
        } else {
            layer.msg(ret.msg, {
                icon: 2,
                time: 1000,
            }, function () {
                table.reload('student');
            });
        }
    })
})
```

3、后端完成修改

```python
@app.put('/api/student/<int:sid>/disable')
def api_student_disable(sid):
    student: StudentORM = db.get_or_404(StudentORM, sid)
    data = request.get_json()
    try:
        student.disable = data['disable']
        student.save()
    except Exception as e:
        return {
            'code': -1,
            'msg': '修改禁用失败'
        }
    return {
        'code': 0,
        'msg': '修改禁用成功'
    }
```

## 表单查询

1、新建查询表单

```html

<div class="layui-container">
    <form class="layui-form layui-row layui-col-space16" style="margin: 20px 10px 20px">
        <div class="layui-col-md4">
            <div class="layui-input-wrap">
                <div class="layui-input-prefix">
                    <i class="layui-icon layui-icon-username"></i>
                </div>
                <input type="text" name="name" value="" placeholder="请输入姓名" class="layui-input" lay-affix="clear">
            </div>
        </div>
        <div class="layui-col-md4">
            <div class="layui-input-wrap">
                <input type="text" name="mobile" placeholder="请输入电话" lay-affix="clear" class="layui-input">
            </div>
        </div>
        <div class="layui-btn-container layui-col-xs12">
            <button class="layui-btn layui-btn-sm" lay-submit lay-filter="table-search">查询</button>
            <button type="reset" class="layui-btn layui-btn-primary layui-btn-sm">重置</button>
        </div>
    </form>
</div>
```

2、追加表单搜索事件

```js
// 搜索提交
form.on('submit(table-search)', function (data) {
    var field = data.field; // 获得表单字段
    // 执行搜索重载
    table.reload('student', {
        page: {
            curr: 1, // 重新从第 1 页开始
        },
        where: field, // 搜索的字段
    });
    return false; // 阻止默认 form 跳转
});
```

3、改造后端逻辑，实现查询

```python
@app.route('/api/student')
def student_view():
    page = request.args.get('page', type=int, default=1)
    per_page = request.args.get('per_page', type=int, default=10)

    # paginate = StudentORM.query.paginate(page=page, per_page=per_page, error_out=False)
    q = db.select(StudentORM)
    name = request.args.get('name')
    if name:
        q = q.where(StudentORM.name == name)
    paginate = db.paginate(q, page=page, per_page=per_page, error_out=False)
    items: [StudentORM] = paginate.items
    return {
        'code': 0,
        'msg': '信息查询成功',
        'count': paginate.total,
        'data': [
            {
                'id': item.id,
                'name': item.name,
                'gender': item.gender,
                'mobile': item.mobile,
                'class_name': item.class_name,
                'address': item.address,
                'disable': item.disable,
                'is_del': item.is_del,
                'create_at': item.create_at.strftime('%Y-%m-%d %H:%M:%S'),
                'update_at': item.update_at.strftime('%Y-%m-%d %H:%M:%S'),
            } for item in items
        ]
    }
```